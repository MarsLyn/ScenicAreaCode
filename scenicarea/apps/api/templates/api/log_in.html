{% extends 'api/sing_up.html' %}
{% load static %}

{% block title %}登录{% endblock %}

{% block main %}
<div class="row mb-3">
    <div class="col-md-12" style="background-color: rgb(238, 238, 238);">
        <h4 class="my-4">
            登录
        </h4>

        <hr class="border border-dark border-1 opacity-50">
        
        <form action="{% url 'api:log_in' %}" method="post" >
            {% csrf_token %}
            <div class="row mb-3">
                <label for="#" class="form-label">用户名:</label>
                <div class="col-md-12">
                    {{ form.username }}
                </div>
            </div>
            <div class="row mb-3">
                <label for="#" class="form-label">密码:</label>
                <div class="col-md-12">
                    <input type="password" class="form-control" name="password" id="id_password1" required>
                </div>
            </div>

            {% if form.errors or form.non_field_errors %}
            <div class="row mb-3">
                <div class="col-auto">
                    {% for field in form %}
                    {{ field.errors}}
                    {% endfor %}

                    {{ form.non_field_errors }}
                </div>
            </div>
            {% endif %}
            
            <div class="row mb-4">
                <div class="col-md-3" style="margin-left: 5rem;">
                    <button type="submit" class="btn btn-primary" style="width: 16rem;">登录</button>
                </div>
            </div>
        </form>
    </div>
</div>
{% endblock %}